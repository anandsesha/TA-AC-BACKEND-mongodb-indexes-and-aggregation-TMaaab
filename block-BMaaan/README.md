<!-- Designed a database model using mongoose to replicate data structure of STACK OVERFLOW and added appropriate indexes to support the queries. -->

Skeleton:

project-root/
├── models/
│ ├── User.js
│ ├── Question.js
│ └── ... other models
├── aggregations/ (querries)
│ ├── tagsQuery.js
│ ├── questionCountQuery.js
│ ├── answersCountQuery.js
│ ├── userReputationQuery.js
│ ├── viewsOnDayQuery.js
│ ├── totalAnswersByUserQuery.js
│ └── ... other query files
├── app.js
└── ...

# MongoDB Indexes and Aggregation Assignment

## Overview

This assignment focuses on using MongoDB indexes and the aggregation framework in a Node.js application with Mongoose. The goal is to implement various queries and aggregations to retrieve insightful data from a manually inserted sample dataset.

## Project Structure

1. **Models:**

   - Created Mongoose models for User, Question, and Answer.

2. **Aggregations:**

   - Created an `aggregations/` folder to organize aggregation queries.
   - Multiple query files (e.g., `tagQueries.js`, `questionCountQuery.js`) for different types of aggregations.

3. **App Entry Point:**
   - `app.js` serves as the entry point for the Node.js application.
   - `runQueries()` function is called asynchronously to execute various queries.

## Example Queries and Aggregations

Total Questions Count: Counts the total number of questions.
Total Answers Count by User: Aggregation to count the total number of answers for a specific user.
Tag Count Query: Aggregation to get an array of all tags used in the questions.
Count total reputation of a user
Total views on a particular day
Count total answer by a particular user

Various other queries and aggregations, each addressing a specific data analysis requirement can be added.

## Manual Sample Data Insertion

1. **Manually Insert Sample Data:**

   - Open your MongoDB shell and switch to your database.

   ```shell
   use your-database
   ```

   - Manually insert sample data into the relevant collections.

   ```shell
   // Sample User data
   db.users.insertMany([
     { _id: ObjectId("5ca6fa078e7cfba44f7ed133"), name: "Alice", email: "alice@example.com" },
     { _id: ObjectId("5ca6fa078e7cfba44f7ed134"), name: "Bob", email: "bob@example.com" },
     // Add more user documents as needed
   ]);

   // Sample Question data
   db.questions.insertMany([
     { _id: ObjectId("5ca6fa078e7cfba44f7ed135"), title: "How to use MongoDB?", body: "I'm new to MongoDB, and I need help." },
     { _id: ObjectId("5ca6fa078e7cfba44f7ed136"), title: "Best practices for web development?", body: "Looking for tips on modern web development." },
     // Add more question documents as needed
   ]);

   // Sample Answer data
   db.answers.insertMany([
     { _id: ObjectId("5ca6fa078e7cfba44f7ed137"), body: "You can use Mongoose for MongoDB in Node.js.", user: ObjectId("5ca6fa078e7cfba44f7ed133"), question: ObjectId("5ca6fa078e7cfba44f7ed135") },
     { _id: ObjectId("5ca6fa078e7cfba44f7ed138"), body: "Follow MVC architecture for scalable web applications.", user: ObjectId("5ca6fa078e7cfba44f7ed134"), question: ObjectId("5ca6fa078e7cfba44f7ed136") },
     // Add more answer documents as needed
   ]);
   ```

   - Adjust the data as per your actual schema and requirements.

2. **Running the Application:**

   - Start your Node.js application.

   ```shell
   node app.js
   ```

3. **Test Queries:**

   - Use tools like `curl`, Postman, or Insomnia to test the implemented queries and aggregations.

4. **Console Output:**
   - Check the console for output and logs generated by the application.

## Note

- Customize the connection string in `app.js` to match your MongoDB setup.
- Replace 'your-database' and 'your-user-id' with your actual database name and user ObjectId in the manually inserted data.
